{
	"name": "GeminiTranslator",
	"version": "1.0.0",
	"license-name": "GPL-3.0-only",
	"author": [
		"Sarah Haslip",
		"Dejan Savuljesku"
	],
	"descriptionmsg": "geminitranslator-desc",
	"requires": {
		"MediaWiki": ">= 1.39.0"
	},
	"MessagesDirs": {
		"GeminiTranslator": "i18n"
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\GeminiTranslator\\": "src/"
	},
	"config": {
		"GeminiApiKey": {
			"value": "",
			"description": "API Key for Google Gemini"
		},
		"GeminiModel": {
			"value": "gemini-2.5-flash",
			"description": "Model version to use for translations"
		}
	},
	"ResourceModules": {
		"ext.geminitranslator.bootstrap": {
			"scripts": [
				"bootstrap.js"
			],
			"styles": [
				"gemini.css"
			],
			"messages": [
				"geminitranslator-ui-translating",
				"geminitranslator-ui-translated",
				"geminitranslator-ui-error",
				"geminitranslator-ui-retry"
			],
			"dependencies": [
				"oojs-ui"
			]
		}
	},
	"ResourceFileModulePaths": {
		"localBasePath": "resources",
		"remoteExtPath": "GeminiTranslator/resources"
	},
	"Hooks": {
		"BeforePageDisplay": "addContentAction",
		"LoadExtensionSchemaUpdates": "onLoadExtensionSchemaUpdates",
		"BeforeInitialize": "handleVirtualPage"
	},
	"HookHandlers": {
		"addContentAction": {
			"class": "MediaWiki\\Extension\\GeminiTranslator\\Hook\\AddContentAction",
			"services": [ "GeminiTranslator.PageTranslator" ]
		},
		"onLoadExtensionSchemaUpdates": {
			"class": "MediaWiki\\Extension\\GeminiTranslator\\Hook\\SchemaUpdates"
		},
		"handleVirtualPage": {
			"class": "MediaWiki\\Extension\\GeminiTranslator\\Hook\\VirtualPageDisplay",
			"services": [ "RevisionLookup", "TitleFactory" ]
		}
	},
	"RestRoutes": [ {
		"method": "POST",
		"path": "/gemini-translator/translate_section/{rev_id}",
		"class": "MediaWiki\\Extension\\GeminiTranslator\\Rest\\TranslateHandler",
		"services": [
			"RevisionLookup", "GeminiTranslator.PageTranslator"
		]
	}, {
		"method": "POST",
		"path": "/gemini-translator/translate_batch",
		"class": "MediaWiki\\Extension\\GeminiTranslator\\Rest\\BatchTranslateHandler",
		"services": [
			"GeminiTranslator.PageTranslator"
		]
	} ],
	"ServiceWiringFiles": [
		"includes/ServiceWiring.php"
	],
	"manifest_version": 2
}
